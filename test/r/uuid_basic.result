INSTALL EXTENSION vsql_uuid;
#
# Test UUID_VERSION function
#
SELECT UUID_VERSION('6ba7b810-9dad-11d1-80b4-00c04fd430c8') AS version_v1;
version_v1
1
SELECT UUID_VERSION('45a113ac-c7f2-30b0-90a5-a399ab912716') AS version_v3;
version_v3
3
SELECT UUID_VERSION('550e8400-e29b-41d4-a716-446655440000') AS version_v4;
version_v4
4
SELECT UUID_VERSION('4be0643f-1d98-573b-97cd-ca98a65347dd') AS version_v5;
version_v5
5
SELECT UUID_VERSION('1d19dad6-ba7b-6810-80b4-00c04fd430c8') AS version_v6_known;
version_v6_known
6
SELECT UUID_VERSION('01901931-9c00-7000-8000-000000000000') AS version_v7_known;
version_v7_known
7
SET @v6_uuid = UUID_V6();
SELECT UUID_VERSION(@v6_uuid) AS version_v6;
version_v6
NULL
SET @v7_uuid = UUID_V7();
SELECT UUID_VERSION(@v7_uuid) AS version_v7;
version_v7
NULL
SELECT UUID_VERSION('00000000-0000-0000-0000-000000000000') AS version_nil;
version_nil
0
SELECT UUID_VERSION('ffffffff-ffff-ffff-ffff-ffffffffffff') AS version_max;
version_max
15
SELECT UUID_VERSION(NULL) IS NULL AS null_version;
null_version
1
SELECT UUID_VERSION('invalid-uuid') AS invalid_version;
invalid_version
NULL
#
# Test UUID_TIMESTAMP function
#
SELECT UUID_TIMESTAMP('6ba7b810-9dad-11d1-80b4-00c04fd430c8') AS timestamp_v1;
timestamp_v1
1998-02-04 22:13:53
SELECT UUID_TIMESTAMP('1d19dad6-ba7b-6810-80b4-00c04fd430c8') AS timestamp_v6;
timestamp_v6
1998-02-04 22:13:53
SELECT UUID_TIMESTAMP('01901931-9c00-7000-8000-000000000000') AS timestamp_v7;
timestamp_v7
2024-06-15 00:00:00
SET @v6_uuid = NULL;
SET @v7_uuid = NULL;
SELECT UUID_TIMESTAMP('550e8400-e29b-41d4-a716-446655440000') AS timestamp_v4;
timestamp_v4
NULL
SELECT UUID_TIMESTAMP('45a113ac-c7f2-30b0-90a5-a399ab912716') AS timestamp_v3;
timestamp_v3
NULL
SELECT UUID_TIMESTAMP(NULL) IS NULL AS timestamp_null;
timestamp_null
1
SELECT UUID_TIMESTAMP('invalid-uuid') AS timestamp_invalid;
timestamp_invalid
NULL
SELECT UUID_TIMESTAMP('00000000-0000-0000-0000-000000000000') AS timestamp_nil;
timestamp_nil
NULL
SELECT UUID_TIMESTAMP('ffffffff-ffff-ffff-ffff-ffffffffffff') AS timestamp_max;
timestamp_max
NULL
#
# Test UUID_EPOCH function
#
SELECT UUID_EPOCH('6ba7b810-9dad-11d1-80b4-00c04fd430c8') AS epoch_v1;
epoch_v1
886630433
SELECT UUID_EPOCH('1d19dad6-ba7b-6810-80b4-00c04fd430c8') AS epoch_v6;
epoch_v6
886630433
SELECT UUID_EPOCH('01901931-9c00-7000-8000-000000000000') AS epoch_v7;
epoch_v7
1718409600
SELECT UUID_EPOCH('550e8400-e29b-41d4-a716-446655440000') AS epoch_v4;
epoch_v4
NULL
SELECT UUID_EPOCH('00000000-0000-0000-0000-000000000000') AS epoch_nil;
epoch_nil
NULL
SELECT UUID_EPOCH('ffffffff-ffff-ffff-ffff-ffffffffffff') AS epoch_max;
epoch_max
NULL
SELECT UUID_EPOCH(NULL) IS NULL AS epoch_null;
epoch_null
1
SELECT UUID_EPOCH('invalid-uuid') AS epoch_invalid;
epoch_invalid
NULL
UNINSTALL EXTENSION vsql_uuid;
